/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/js/main.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/js/game/goal.ts":
/*!*****************************!*\
  !*** ./src/js/game/goal.ts ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst obstacle_1 = __webpack_require__(/*! ./obstacles/obstacle */ \"./src/js/game/obstacles/obstacle.ts\");\r\nconst vec2_1 = __webpack_require__(/*! ../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nconst staticSprite_1 = __webpack_require__(/*! ../graphics/representations/staticSprite */ \"./src/js/graphics/representations/staticSprite.ts\");\r\nclass Goal extends obstacle_1.Obstacle {\r\n    constructor(initPosition, resourceManager) {\r\n        super(initPosition, new vec2_1.Vec2(0, 0), resourceManager, false);\r\n        this._image = new staticSprite_1.StaticSprite(resourceManager.getResource('goal'), Goal.SCALE);\r\n        this._isMoving = true;\r\n        this._idlingTime = 0;\r\n    }\r\n    update(time) {\r\n        //this.updateVelocity(time);\r\n        super.update(time);\r\n    }\r\n    updateVelocity(time) {\r\n        let position = this.getPosition(time);\r\n        let velocity = this.getVelocity();\r\n        if (this._isMoving) {\r\n            if (Math.abs(position.y - this._originalPosition.y) > 100) {\r\n                this._isMoving = false;\r\n                this.setVelocity(time, 0, 0);\r\n            }\r\n        }\r\n        else {\r\n            if ((time - this._firstUpdate) / 1000 > 3) {\r\n                this._isMoving = true;\r\n                this.setVelocity(time, 0, position.y > this._originalPosition.y ? -Goal.VELOCITY : Goal.VELOCITY);\r\n            }\r\n        }\r\n    }\r\n    get width() {\r\n        return this._image.width * 0.5;\r\n    }\r\n    get height() {\r\n        return this._image.height * 0.5;\r\n    }\r\n}\r\nexports.Goal = Goal;\r\nGoal.SCALE = 0.3;\r\nGoal.VELOCITY = 0.4;\r\n\n\n//# sourceURL=webpack:///./src/js/game/goal.ts?");

/***/ }),

/***/ "./src/js/game/gui/editorScene.ts":
/*!****************************************!*\
  !*** ./src/js/game/gui/editorScene.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst block_1 = __webpack_require__(/*! ./../obstacles/block */ \"./src/js/game/obstacles/block.ts\");\r\nconst world_1 = __webpack_require__(/*! ./../world */ \"./src/js/game/world.ts\");\r\nconst button_1 = __webpack_require__(/*! ./../../graphics/controls/button */ \"./src/js/graphics/controls/button.ts\");\r\nconst menu_1 = __webpack_require__(/*! ../../graphics/controls/menu */ \"./src/js/graphics/controls/menu.ts\");\r\nconst levelParser_1 = __webpack_require__(/*! ./../level/levelParser */ \"./src/js/game/level/levelParser.ts\");\r\nconst scene_1 = __webpack_require__(/*! ./../scene/scene */ \"./src/js/game/scene/scene.ts\");\r\nconst vec2_1 = __webpack_require__(/*! ../../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nconst staticSprite_1 = __webpack_require__(/*! ../../graphics/representations/staticSprite */ \"./src/js/graphics/representations/staticSprite.ts\");\r\nclass EditorScene extends scene_1.Scene {\r\n    constructor(document, canvas, resourceManager, sceneManager) {\r\n        const sprites = [\r\n            new staticSprite_1.StaticSprite(resourceManager.getResource('missile_static')),\r\n            new staticSprite_1.StaticSprite(resourceManager.getResource('bomb_static')),\r\n            new staticSprite_1.StaticSprite(resourceManager.getResource('bomb_static')),\r\n            new staticSprite_1.StaticSprite(resourceManager.getResource('block')),\r\n            new staticSprite_1.StaticSprite(resourceManager.getResource('block')),\r\n            new staticSprite_1.StaticSprite(resourceManager.getResource('box')),\r\n            new staticSprite_1.StaticSprite(resourceManager.getResource('goal'))\r\n        ];\r\n        const menu = new menu_1.MenuControl(new vec2_1.Vec2(world_1.World.VIEW_WIDTH - EditorScene._menuWidth, world_1.World.WORLD_HEIGHT + 50), EditorScene._menuWidth, world_1.World.VIEW_HEIGHT, resourceManager, [\r\n            new button_1.OneWayButton(vec2_1.Vec2.Zero(), sprites[levelParser_1.JSONObjectType.MISSILE], () => { this.selectedObject = levelParser_1.JSONObjectType.MISSILE; console.debug(JSON.stringify(this.selectedObject)); }),\r\n            new button_1.OneWayButton(vec2_1.Vec2.Zero(), sprites[levelParser_1.JSONObjectType.BOMB], () => { this.selectedObject = levelParser_1.JSONObjectType.BOMB; console.debug(JSON.stringify(this.selectedObject)); }),\r\n            new button_1.OneWayButton(vec2_1.Vec2.Zero(), sprites[levelParser_1.JSONObjectType.BLOCK], () => { this.selectedObject = levelParser_1.JSONObjectType.BLOCK; console.debug(JSON.stringify(this.selectedObject)); }),\r\n            new button_1.OneWayButton(vec2_1.Vec2.Zero(), sprites[levelParser_1.JSONObjectType.BOX], () => { this.selectedObject = levelParser_1.JSONObjectType.BOX; console.debug(JSON.stringify(this.selectedObject)); }),\r\n        ]);\r\n        super(document, canvas, resourceManager.getDrawable('main_background'), [\r\n            menu,\r\n            new button_1.TextButton(vec2_1.Vec2.Zero(), new staticSprite_1.StaticSprite(resourceManager.getResource('time_background')), 'Save', () => {\r\n                localStorage.setItem('new', JSON.stringify(this.levelObjects));\r\n                this.levelObjects = [];\r\n                sceneManager.setScene('start');\r\n            })\r\n        ]);\r\n        this.selectedObject = null;\r\n        this.levelObjects = [];\r\n        this.objectsSprite = sprites;\r\n    }\r\n    play(newTime) {\r\n        super.play(newTime);\r\n        for (let object of this.levelObjects) {\r\n            let scale = 1;\r\n            if (object.type === levelParser_1.JSONObjectType.BLOCK)\r\n                scale = block_1.Block.SCALE;\r\n            else if (object.type === levelParser_1.JSONObjectType.BOX)\r\n                scale = block_1.Box.SCALE;\r\n            this._canvas.context.drawImage(this.objectsSprite[object.type].spritesheet, object.position.x, object.position.y, this.objectsSprite[object.type].width * scale, this.objectsSprite[object.type].height * scale);\r\n        }\r\n    }\r\n    initialize() {\r\n        super.initialize();\r\n        this._eventsListeners.push({\r\n            type: 'mousedown', callback: this.addObject.bind(this)\r\n        });\r\n        document.addEventListener('mousedown', this.addObject.bind(this));\r\n    }\r\n    addObject(event) {\r\n        if (this.selectedObject !== null) {\r\n            this.levelObjects.push({\r\n                type: this.selectedObject,\r\n                position: {\r\n                    x: event.clientX,\r\n                    y: event.clientY\r\n                }\r\n            });\r\n            this.selectedObject = null;\r\n        }\r\n    }\r\n}\r\nexports.EditorScene = EditorScene;\r\nEditorScene._menuWidth = 150;\r\n\n\n//# sourceURL=webpack:///./src/js/game/gui/editorScene.ts?");

/***/ }),

/***/ "./src/js/game/gui/gameOverScene.ts":
/*!******************************************!*\
  !*** ./src/js/game/gui/gameOverScene.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst world_1 = __webpack_require__(/*! ./../world */ \"./src/js/game/world.ts\");\r\nconst control_1 = __webpack_require__(/*! ./../../graphics/controls/control */ \"./src/js/graphics/controls/control.ts\");\r\nconst oneShotAnimation_1 = __webpack_require__(/*! ./../../graphics/representations/oneShotAnimation */ \"./src/js/graphics/representations/oneShotAnimation.ts\");\r\nconst textBox_1 = __webpack_require__(/*! ./../../graphics/controls/textBox */ \"./src/js/graphics/controls/textBox.ts\");\r\nconst staticSprite_1 = __webpack_require__(/*! ./../../graphics/representations/staticSprite */ \"./src/js/graphics/representations/staticSprite.ts\");\r\nconst button_1 = __webpack_require__(/*! ./../../graphics/controls/button */ \"./src/js/graphics/controls/button.ts\");\r\nconst scene_1 = __webpack_require__(/*! ./../scene/scene */ \"./src/js/game/scene/scene.ts\");\r\nconst vec2_1 = __webpack_require__(/*! ../../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nclass GameOverScene extends scene_1.Scene {\r\n    constructor(document, canvas, resourceManager, sceneManager) {\r\n        let button_background = resourceManager.getResource('time_background');\r\n        let sprite_normal = new staticSprite_1.StaticSprite(button_background);\r\n        let robotSprite = new oneShotAnimation_1.OneShotAnimation(resourceManager.getResource('dead'), 9, 1.2, 0.3);\r\n        let deadRobot = new control_1.DrawableControl(new vec2_1.Vec2(canvas.width - robotSprite.width, canvas.height - robotSprite.height), robotSprite);\r\n        let textboxWidth = 1200;\r\n        let textboxHeight = 600;\r\n        super(document, canvas, resourceManager.getDrawable('main_background'), [\r\n            new button_1.TextButton(new vec2_1.Vec2(world_1.World.horizontalCenter(sprite_normal), world_1.World.horizontalCenter(sprite_normal) - 300), sprite_normal, 'Replay', () => {\r\n                sceneManager.setScene('play');\r\n            }),\r\n            new button_1.TextButton(new vec2_1.Vec2((world_1.World.VIEW_WIDTH - sprite_normal.width) * 0.5, (world_1.World.VIEW_HEIGHT - sprite_normal.height) * 0.5 - 100), sprite_normal, 'Menu', () => {\r\n                sceneManager.setScene('start');\r\n            }),\r\n            deadRobot,\r\n            new textBox_1.TextControl(new vec2_1.Vec2((world_1.World.VIEW_WIDTH - textboxWidth) * 0.5, (world_1.World.VIEW_HEIGHT - textboxHeight) * 0.5 + 200), textboxWidth, textboxHeight, 'Game Over')\r\n        ]);\r\n        this._robotAnimation = robotSprite;\r\n    }\r\n    finalize() {\r\n        super.finalize();\r\n        this._robotAnimation.reset();\r\n    }\r\n}\r\nexports.GameOverScene = GameOverScene;\r\n\n\n//# sourceURL=webpack:///./src/js/game/gui/gameOverScene.ts?");

/***/ }),

/***/ "./src/js/game/gui/playScene.ts":
/*!**************************************!*\
  !*** ./src/js/game/gui/playScene.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst levelParser_1 = __webpack_require__(/*! ./../level/levelParser */ \"./src/js/game/level/levelParser.ts\");\r\nconst textBox_1 = __webpack_require__(/*! ./../../graphics/controls/textBox */ \"./src/js/graphics/controls/textBox.ts\");\r\nconst scene_1 = __webpack_require__(/*! ../scene/scene */ \"./src/js/game/scene/scene.ts\");\r\nconst vec2_1 = __webpack_require__(/*! ../../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nclass PlayScene extends scene_1.Scene {\r\n    constructor(document, canvas, resourceManager, sceneManager, levelManager) {\r\n        let timeText = new textBox_1.TextControl(new vec2_1.Vec2(0, 5), 300, 70, `Time: 0`, resourceManager.getDrawable('time_background'));\r\n        let bestTimeText = new textBox_1.TextControl(new vec2_1.Vec2(timeText.width, 5), 300, 70, `Best: -`, resourceManager.getDrawable('time_background'));\r\n        super(document, canvas, resourceManager.getDrawable('main_background'), [timeText, bestTimeText]);\r\n        this.levelParser = new levelParser_1.LevelParser(resourceManager, sceneManager, canvas, () => {\r\n            this.reset();\r\n            console.log(`${JSON.stringify(this._objects)}`);\r\n            sceneManager.setScene('gameover');\r\n        }, () => this.nextLevel());\r\n        this.levelManager = levelManager;\r\n        this.levelManager.addLevel(this.levelParser.parseLevel(`\n        {\n            \"id\": 2,\n            \"objects\": [\n                {\n                    \"type\": ${levelParser_1.JSONObjectType.PLAYER},\n                    \"position\": {\n                        \"x\": 200,\n                        \"y\": 200\n                    }\n                },\n                {\n                    \"type\": ${levelParser_1.JSONObjectType.GOAL},\n                    \"position\": {\n                        \"x\": 500,\n                        \"y\": 200\n                    }\n                },\n                {\n                    \"type\": ${levelParser_1.JSONObjectType.BOMB},\n                    \"position\": {\n                        \"x\": 400,\n                        \"y\": 500\n                    }\n                }\n            ]\n        }\n       `));\r\n        this.timeText = timeText;\r\n        this.sceneManager = sceneManager;\r\n        this.bestTimeText = bestTimeText;\r\n        this.timeCounter = 0;\r\n        this.reset();\r\n    }\r\n    play(newTime) {\r\n        super.play(newTime);\r\n        this.timeCounter = Math.round((newTime - this._fistUpdate) / 1000 * 100) / 100;\r\n        this.timeText.changeText(`Time: ${Math.trunc(this.timeCounter)}`);\r\n        this.bestTimeText.changeText(`Best: ${this.levelManager.getLevel(this.playingLevel).bestTime < Number.MAX_VALUE ? this.levelManager.getLevel(this.playingLevel).bestTime : '-'}`);\r\n    }\r\n    nextLevel() {\r\n        this.sceneManager.stop();\r\n        if (this.timeCounter < this.levelManager.getLevel(this.playingLevel).bestTime)\r\n            this.levelManager.getLevel(this.playingLevel).bestTime = this.timeCounter;\r\n        console.log(`Best Time: ${this.levelManager.getLevel(this.playingLevel).bestTime}`);\r\n        if (this.playingLevel < this.levelManager.levelsNumber - 1) {\r\n            this.finalize();\r\n            this._objects = [];\r\n            this.playingLevel++;\r\n            for (let ent of this.levelManager.getLevel(this.playingLevel).objects)\r\n                this.mapObject(ent);\r\n            this.initialize();\r\n        }\r\n        else {\r\n            this.reset();\r\n            this.sceneManager.setScene('win');\r\n        }\r\n        this.sceneManager.start();\r\n    }\r\n    reset() {\r\n        this.playingLevel = 0;\r\n        this._objects = [];\r\n        for (let ent of this.levelManager.getLevel(this.playingLevel).objects)\r\n            this.mapObject(ent);\r\n    }\r\n    initialize() {\r\n        super.initialize();\r\n        if (window.localStorage.length > 0) {\r\n            this.levelManager.addLevel(this.levelParser.parseLevel(`{\"objects\": ${window.localStorage.getItem('new')}}`));\r\n            window.localStorage.clear();\r\n        }\r\n    }\r\n}\r\nexports.PlayScene = PlayScene;\r\n\n\n//# sourceURL=webpack:///./src/js/game/gui/playScene.ts?");

/***/ }),

/***/ "./src/js/game/gui/startScene.ts":
/*!***************************************!*\
  !*** ./src/js/game/gui/startScene.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst world_1 = __webpack_require__(/*! ./../world */ \"./src/js/game/world.ts\");\r\nconst button_1 = __webpack_require__(/*! ./../../graphics/controls/button */ \"./src/js/graphics/controls/button.ts\");\r\nconst animation_1 = __webpack_require__(/*! ./../../graphics/representations/animation */ \"./src/js/graphics/representations/animation.ts\");\r\nconst scene_1 = __webpack_require__(/*! ../scene/scene */ \"./src/js/game/scene/scene.ts\");\r\nconst staticSprite_1 = __webpack_require__(/*! ../../graphics/representations/staticSprite */ \"./src/js/graphics/representations/staticSprite.ts\");\r\nconst vec2_1 = __webpack_require__(/*! ../../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nconst textBox_1 = __webpack_require__(/*! ../../graphics/controls/textBox */ \"./src/js/graphics/controls/textBox.ts\");\r\nconst control_1 = __webpack_require__(/*! ../../graphics/controls/control */ \"./src/js/graphics/controls/control.ts\");\r\nclass StartScene extends scene_1.Scene {\r\n    constructor(document, canvas, resourceManager, sceneManager) {\r\n        let button_background = resourceManager.getResource('time_background');\r\n        let sprite_normal = new staticSprite_1.StaticSprite(button_background);\r\n        let textboxWidth = 1200;\r\n        let textboxHeight = 500;\r\n        let robot_resource = resourceManager.getResource('idle');\r\n        let spriteRobot = new animation_1.Animation(robot_resource, 9, 1.2, 0.4);\r\n        super(document, canvas, resourceManager.getDrawable('main_background'), [\r\n            new button_1.TextButton(new vec2_1.Vec2(world_1.World.horizontalCenter(sprite_normal), world_1.World.verticalCenter(sprite_normal)), sprite_normal, 'start', () => {\r\n                sceneManager.setScene('play');\r\n            }),\r\n            new button_1.TextButton(new vec2_1.Vec2(world_1.World.horizontalCenter(sprite_normal), world_1.World.verticalCenter(sprite_normal) + 200), sprite_normal, 'editor', () => {\r\n                sceneManager.setScene('editor');\r\n            }),\r\n            new textBox_1.TextControl(new vec2_1.Vec2((canvas.width - textboxWidth) * 0.5, (canvas.height - textboxHeight) * 0.5 - 200), textboxWidth, textboxHeight, 'RoboWar'),\r\n            new control_1.DrawableControl(new vec2_1.Vec2(0, world_1.World.alignBottom(spriteRobot) + 50), spriteRobot),\r\n        ]);\r\n    }\r\n}\r\nexports.StartScene = StartScene;\r\n\n\n//# sourceURL=webpack:///./src/js/game/gui/startScene.ts?");

/***/ }),

/***/ "./src/js/game/gui/winScene.ts":
/*!*************************************!*\
  !*** ./src/js/game/gui/winScene.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst animation_1 = __webpack_require__(/*! ./../../graphics/representations/animation */ \"./src/js/graphics/representations/animation.ts\");\r\nconst control_1 = __webpack_require__(/*! ./../../graphics/controls/control */ \"./src/js/graphics/controls/control.ts\");\r\nconst textBox_1 = __webpack_require__(/*! ./../../graphics/controls/textBox */ \"./src/js/graphics/controls/textBox.ts\");\r\nconst staticSprite_1 = __webpack_require__(/*! ./../../graphics/representations/staticSprite */ \"./src/js/graphics/representations/staticSprite.ts\");\r\nconst button_1 = __webpack_require__(/*! ./../../graphics/controls/button */ \"./src/js/graphics/controls/button.ts\");\r\nconst scene_1 = __webpack_require__(/*! ./../scene/scene */ \"./src/js/game/scene/scene.ts\");\r\nconst vec2_1 = __webpack_require__(/*! ../../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nclass WinScene extends scene_1.Scene {\r\n    constructor(document, canvas, resourceManager, sceneManager) {\r\n        let button_background = resourceManager.getResource('time_background');\r\n        let sprite_normal = new staticSprite_1.StaticSprite(button_background);\r\n        let robotSprite = new animation_1.Animation(resourceManager.getResource('idle'), 9, 1.2, 0.3);\r\n        let deadRobot = new control_1.DrawableControl(new vec2_1.Vec2(canvas.width - robotSprite.width, canvas.height - robotSprite.height), robotSprite);\r\n        let textboxWidth = 500;\r\n        let textboxHeight = 400;\r\n        const starSprite = new staticSprite_1.StaticSprite(resourceManager.getResource('goal'), 0.3);\r\n        super(document, canvas, resourceManager.getDrawable('main_background'), [\r\n            new button_1.TextButton(new vec2_1.Vec2((canvas.width - sprite_normal.width) * 0.5, (canvas.height - sprite_normal.height) * 0.5 - 300), sprite_normal, 'Menu', () => {\r\n                sceneManager.setScene('start');\r\n            }),\r\n            deadRobot,\r\n            new textBox_1.TextControl(new vec2_1.Vec2((canvas.width - textboxWidth) * 0.5, (canvas.height - textboxHeight) * 0.5), textboxWidth, textboxHeight, 'You Win!')\r\n        ]);\r\n        this._robotAnimation = robotSprite;\r\n    }\r\n    finalize() {\r\n        super.finalize();\r\n        this._robotAnimation.reset();\r\n    }\r\n}\r\nexports.WinScene = WinScene;\r\n\n\n//# sourceURL=webpack:///./src/js/game/gui/winScene.ts?");

/***/ }),

/***/ "./src/js/game/level/level.ts":
/*!************************************!*\
  !*** ./src/js/game/level/level.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Level {\r\n    constructor(objects, id) {\r\n        this._objects = objects;\r\n        this._bestTime = Number.MAX_VALUE;\r\n        this._id = id;\r\n    }\r\n    static createLevel(objects) {\r\n        let newID = Level.AVAILABLE_ID;\r\n        Level.AVAILABLE_ID++;\r\n        return new Level(objects, newID);\r\n    }\r\n    get bestTime() {\r\n        return this._bestTime;\r\n    }\r\n    set bestTime(value) {\r\n        this._bestTime = value;\r\n    }\r\n    get id() {\r\n        return this._id;\r\n    }\r\n    get objects() {\r\n        return this._objects;\r\n    }\r\n}\r\nexports.Level = Level;\r\nLevel.AVAILABLE_ID = 1;\r\n\n\n//# sourceURL=webpack:///./src/js/game/level/level.ts?");

/***/ }),

/***/ "./src/js/game/level/levelManager.ts":
/*!*******************************************!*\
  !*** ./src/js/game/level/levelManager.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass LevelsManager {\r\n    constructor() {\r\n        this._levelsPool = [];\r\n        this._storage = window.localStorage;\r\n    }\r\n    addLevel(level) {\r\n        this._levelsPool.push(level);\r\n    }\r\n    getLevel(id) {\r\n        return this._levelsPool[id];\r\n    }\r\n    get levelsNumber() {\r\n        return this._levelsPool.length;\r\n    }\r\n    setBestTime(index, time) {\r\n        const level = this.getLevel(index);\r\n        level.bestTime = time;\r\n    }\r\n}\r\nexports.LevelsManager = LevelsManager;\r\n\n\n//# sourceURL=webpack:///./src/js/game/level/levelManager.ts?");

/***/ }),

/***/ "./src/js/game/level/levelParser.ts":
/*!******************************************!*\
  !*** ./src/js/game/level/levelParser.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst level_1 = __webpack_require__(/*! ./level */ \"./src/js/game/level/level.ts\");\r\nconst block_1 = __webpack_require__(/*! ./../obstacles/block */ \"./src/js/game/obstacles/block.ts\");\r\nconst player_1 = __webpack_require__(/*! ./../player */ \"./src/js/game/player.ts\");\r\nconst goal_1 = __webpack_require__(/*! ./../goal */ \"./src/js/game/goal.ts\");\r\nconst obstacle_1 = __webpack_require__(/*! ./../obstacles/obstacle */ \"./src/js/game/obstacles/obstacle.ts\");\r\nconst block_2 = __webpack_require__(/*! ../obstacles/block */ \"./src/js/game/obstacles/block.ts\");\r\nconst vec2_1 = __webpack_require__(/*! ../../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nvar JSONObjectType;\r\n(function (JSONObjectType) {\r\n    JSONObjectType[JSONObjectType[\"PLAYER\"] = 0] = \"PLAYER\";\r\n    JSONObjectType[JSONObjectType[\"MISSILE\"] = 1] = \"MISSILE\";\r\n    JSONObjectType[JSONObjectType[\"BOMB\"] = 2] = \"BOMB\";\r\n    JSONObjectType[JSONObjectType[\"MINE\"] = 3] = \"MINE\";\r\n    JSONObjectType[JSONObjectType[\"BLOCK\"] = 4] = \"BLOCK\";\r\n    JSONObjectType[JSONObjectType[\"LONG_BLOCK\"] = 5] = \"LONG_BLOCK\";\r\n    JSONObjectType[JSONObjectType[\"BOX\"] = 6] = \"BOX\";\r\n    JSONObjectType[JSONObjectType[\"GOAL\"] = 7] = \"GOAL\";\r\n})(JSONObjectType = exports.JSONObjectType || (exports.JSONObjectType = {}));\r\nclass LevelParser {\r\n    constructor(resourceManager, sceneManager, canvas, gameoverAction, winAction) {\r\n        this._resourceManager = resourceManager;\r\n        this._sceneManager = sceneManager;\r\n        this._canvas = canvas;\r\n        this._gameoverAction = gameoverAction;\r\n        this._winAction = winAction;\r\n    }\r\n    parseLevel(rawJSON) {\r\n        const levelObjects = [];\r\n        const data = JSON.parse(rawJSON);\r\n        for (let object of data.objects) {\r\n            object.position.y = (this._canvas.height - object.position.y);\r\n            if (object.type === JSONObjectType.BLOCK)\r\n                levelObjects.push(new block_2.Block(new vec2_1.Vec2(object.position.x, object.position.y), this._resourceManager));\r\n            else if (object.type === JSONObjectType.LONG_BLOCK)\r\n                levelObjects.push(new block_1.LongBlock(new vec2_1.Vec2(object.position.x, object.position.y), this._resourceManager));\r\n            else if (object.type === JSONObjectType.BOX)\r\n                levelObjects.push(new block_1.Box(new vec2_1.Vec2(object.position.x, object.position.y), this._resourceManager));\r\n            else if (object.type === JSONObjectType.BOMB)\r\n                levelObjects.push(new obstacle_1.Bomb(new vec2_1.Vec2(object.position.x, object.position.y), this._resourceManager));\r\n            else if (object.type === JSONObjectType.MINE)\r\n                levelObjects.push(new obstacle_1.Mine(new vec2_1.Vec2(object.position.x, object.position.y), this._resourceManager));\r\n            else if (object.type === JSONObjectType.GOAL)\r\n                levelObjects.push(new goal_1.Goal(new vec2_1.Vec2(object.position.x, object.position.y), this._resourceManager));\r\n            else if (object.type === JSONObjectType.MISSILE)\r\n                levelObjects.push(new obstacle_1.Missile(this._canvas.width, object.position.y, this._resourceManager));\r\n            else if (object.type === JSONObjectType.PLAYER)\r\n                levelObjects.push(new player_1.Player(new vec2_1.Vec2(/*object.position.x*/ 0, /*object.position.y*/ 0), this._resourceManager, null, this._canvas.width, this._canvas.height, this._gameoverAction, this._winAction));\r\n        }\r\n        return level_1.Level.createLevel(levelObjects);\r\n    }\r\n    static parseObjectType(object) {\r\n        if (object instanceof obstacle_1.Missile)\r\n            return JSONObjectType.MISSILE;\r\n        else if (object instanceof obstacle_1.Bomb)\r\n            return JSONObjectType.BOMB;\r\n        else if (object instanceof block_2.Block)\r\n            return JSONObjectType.BLOCK;\r\n        else if (object instanceof block_1.LongBlock)\r\n            return JSONObjectType.LONG_BLOCK;\r\n        else if (object instanceof block_1.Box)\r\n            return JSONObjectType.BOX;\r\n        else if (object instanceof obstacle_1.Mine)\r\n            return JSONObjectType.MINE;\r\n        else if (object instanceof player_1.Player)\r\n            return JSONObjectType.PLAYER;\r\n        else if (object instanceof goal_1.Goal)\r\n            return JSONObjectType.GOAL;\r\n    }\r\n}\r\nexports.LevelParser = LevelParser;\r\n\n\n//# sourceURL=webpack:///./src/js/game/level/levelParser.ts?");

/***/ }),

/***/ "./src/js/game/obstacles/block.ts":
/*!****************************************!*\
  !*** ./src/js/game/obstacles/block.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst obstacle_1 = __webpack_require__(/*! ./obstacle */ \"./src/js/game/obstacles/obstacle.ts\");\r\nconst staticSprite_1 = __webpack_require__(/*! ../../graphics/representations/staticSprite */ \"./src/js/graphics/representations/staticSprite.ts\");\r\nconst vec2_1 = __webpack_require__(/*! ../../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nclass Block extends obstacle_1.Obstacle {\r\n    constructor(initPosition, resourceManager) {\r\n        super(initPosition, vec2_1.Vec2.Zero(), resourceManager, false);\r\n        this._image = new staticSprite_1.StaticSprite(resourceManager.getResource('block'), Block.SCALE);\r\n    }\r\n}\r\nexports.Block = Block;\r\nBlock.SCALE = 0.3;\r\nclass LongBlock extends obstacle_1.Obstacle {\r\n    constructor(initPosition, resourceManager) {\r\n        super(initPosition, vec2_1.Vec2.Zero(), resourceManager, false);\r\n        this._image = new staticSprite_1.StaticSprite(resourceManager.getResource('long_block'), LongBlock.SCALE);\r\n    }\r\n}\r\nexports.LongBlock = LongBlock;\r\nLongBlock.SCALE = 0.6;\r\nclass Box extends obstacle_1.Obstacle {\r\n    constructor(initPosition, resourceManager) {\r\n        super(initPosition, vec2_1.Vec2.Zero(), resourceManager, false);\r\n        this._image = new staticSprite_1.StaticSprite(resourceManager.getResource('box'), Box.SCALE);\r\n    }\r\n}\r\nexports.Box = Box;\r\nBox.SCALE = 0.5;\r\n\n\n//# sourceURL=webpack:///./src/js/game/obstacles/block.ts?");

/***/ }),

/***/ "./src/js/game/obstacles/obstacle.ts":
/*!*******************************************!*\
  !*** ./src/js/game/obstacles/obstacle.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst animation_1 = __webpack_require__(/*! ./../../graphics/representations/animation */ \"./src/js/graphics/representations/animation.ts\");\r\nconst vec2_1 = __webpack_require__(/*! ../../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nconst gameObject_1 = __webpack_require__(/*! ../../physics/gameObject */ \"./src/js/physics/gameObject.ts\");\r\nclass Obstacle extends gameObject_1.GameObject {\r\n    constructor(initPosition, initVelocity, resourceManager, deadly) {\r\n        super(initPosition, initVelocity, resourceManager, 0);\r\n        this._deadly = deadly;\r\n    }\r\n    get deadly() {\r\n        return this._deadly;\r\n    }\r\n}\r\nexports.Obstacle = Obstacle;\r\nclass Bomb extends Obstacle {\r\n    constructor(initPosition, resourceManager) {\r\n        super(initPosition, new vec2_1.Vec2(-Bomb.BOMB_VELOCITY, Bomb.BOMB_VELOCITY), resourceManager, true);\r\n        this._image = new animation_1.Animation(resourceManager.getResource('bomb'), 10);\r\n    }\r\n    update(time) {\r\n        const position = this.getPosition(time);\r\n        const goingUp = this.getVelocity().y < 0;\r\n        if (Math.abs(position.y - this._initPosition.y) > 100)\r\n            this.setVelocity(time, this.getVelocity().x, goingUp ? Bomb.BOMB_VELOCITY : -Bomb.BOMB_VELOCITY);\r\n        if (Math.abs(position.x - this._initPosition.x) > 50)\r\n            this.setVelocity(time, goingUp ? Bomb.BOMB_VELOCITY : -Bomb.BOMB_VELOCITY, this.getVelocity().y);\r\n    }\r\n    get width() {\r\n        return this._image.width * 0.6;\r\n    }\r\n}\r\nexports.Bomb = Bomb;\r\nBomb.BOMB_VELOCITY = 0.2;\r\nclass Mine extends Obstacle {\r\n    constructor(initPosition, resourceManager) {\r\n        super(initPosition, new vec2_1.Vec2(0, Bomb.BOMB_VELOCITY), resourceManager, true);\r\n        this._image = new animation_1.Animation(resourceManager.getResource('mine'), 10);\r\n    }\r\n    update(time) {\r\n        const position = this.getPosition(time);\r\n        const goingUp = this.getVelocity().y < 0;\r\n        if (Math.abs(position.y - this._initPosition.y) > 200)\r\n            this.setVelocity(time, this.getVelocity().x, goingUp ? Bomb.BOMB_VELOCITY : -Bomb.BOMB_VELOCITY);\r\n    }\r\n    get width() {\r\n        return this._image.width * 0.6;\r\n    }\r\n}\r\nexports.Mine = Mine;\r\nMine.BOMB_VELOCITY = 0.2;\r\nclass Missile extends Obstacle {\r\n    constructor(worldWidth, initHeight, resourceManager) {\r\n        super(new vec2_1.Vec2(worldWidth + 100, initHeight), new vec2_1.Vec2(-Missile.MISSILE_VELOCITY, 0), resourceManager, true);\r\n        this._image = new animation_1.Animation(resourceManager.getResource('missile_one'), 9);\r\n    }\r\n    update(time) {\r\n        const position = this.getPosition(time);\r\n        if (position.x < -this.width)\r\n            this.setPosition(time, this._originalPosition.x, this._originalPosition.y);\r\n    }\r\n    get width() {\r\n        return this._image.width * 0.7;\r\n    }\r\n    get height() {\r\n        return this._image.height * 0.5;\r\n    }\r\n}\r\nexports.Missile = Missile;\r\nMissile.MISSILE_VELOCITY = 1;\r\n\n\n//# sourceURL=webpack:///./src/js/game/obstacles/obstacle.ts?");

/***/ }),

/***/ "./src/js/game/player.ts":
/*!*******************************!*\
  !*** ./src/js/game/player.ts ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst goal_1 = __webpack_require__(/*! ./goal */ \"./src/js/game/goal.ts\");\r\nconst fallingObject_1 = __webpack_require__(/*! ./../physics/fallingObject */ \"./src/js/physics/fallingObject.ts\");\r\nconst animation_1 = __webpack_require__(/*! ../graphics/representations/animation */ \"./src/js/graphics/representations/animation.ts\");\r\nconst vec2_1 = __webpack_require__(/*! ../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nconst gameObject_1 = __webpack_require__(/*! ../physics/gameObject */ \"./src/js/physics/gameObject.ts\");\r\nconst oneShotAnimation_1 = __webpack_require__(/*! ../graphics/representations/oneShotAnimation */ \"./src/js/graphics/representations/oneShotAnimation.ts\");\r\nvar MovementKeys;\r\n(function (MovementKeys) {\r\n    MovementKeys[MovementKeys[\"LEFT\"] = 37] = \"LEFT\";\r\n    MovementKeys[MovementKeys[\"RIGHT\"] = 39] = \"RIGHT\";\r\n    MovementKeys[MovementKeys[\"JUMP\"] = 32] = \"JUMP\";\r\n    MovementKeys[MovementKeys[\"SHOT\"] = 17] = \"SHOT\";\r\n})(MovementKeys || (MovementKeys = {}));\r\n;\r\nvar PlayerStates;\r\n(function (PlayerStates) {\r\n    PlayerStates[PlayerStates[\"RUNNING\"] = 0] = \"RUNNING\";\r\n    PlayerStates[PlayerStates[\"IDLING\"] = 1] = \"IDLING\";\r\n    PlayerStates[PlayerStates[\"JUMPING\"] = 2] = \"JUMPING\";\r\n})(PlayerStates = exports.PlayerStates || (exports.PlayerStates = {}));\r\n;\r\nclass PlayerStatesResources {\r\n    constructor(runningState, idlingState, jumpingState) {\r\n        this._runningState = runningState;\r\n        this._idlingState = idlingState,\r\n            this._jumpingState = jumpingState;\r\n    }\r\n    getRelatedAnimation(state) {\r\n        switch (state) {\r\n            case PlayerStates.IDLING: return this._idlingState;\r\n            case PlayerStates.JUMPING: return this._jumpingState;\r\n            case PlayerStates.RUNNING: return this._runningState;\r\n            default: return this._idlingState;\r\n        }\r\n    }\r\n    get running() {\r\n        return this._runningState;\r\n    }\r\n    get jumping() {\r\n        return this._jumpingState;\r\n    }\r\n    get idling() {\r\n        return this._idlingState;\r\n    }\r\n}\r\nexports.PlayerStatesResources = PlayerStatesResources;\r\n;\r\nclass Player extends fallingObject_1.FallingObject {\r\n    constructor(initPosition, resourceManager, firstUpdate, maxWidth, maxHeight, dyingAction, winningAction) {\r\n        super(initPosition, vec2_1.Vec2.Zero(), resourceManager, firstUpdate);\r\n        this._playerState = PlayerStates.IDLING;\r\n        this._playerStatesResources = new PlayerStatesResources(new animation_1.Animation(resourceManager.getResource('run'), 9, Player.SCALE), new animation_1.Animation(resourceManager.getResource('idle'), 9, Player.SCALE), new oneShotAnimation_1.OneShotAnimation(resourceManager.getResource('jump'), 9, Player.SCALE));\r\n        this._actualResource = this._playerStatesResources.idling;\r\n        this._playerActualMovement = {\r\n            left: false, right: false,\r\n            jump: false, shot: false\r\n        };\r\n        this._playerMovementRequest = {\r\n            left: false, right: false,\r\n            jump: false, shot: false\r\n        };\r\n        this._worldBounds = {\r\n            width: maxWidth,\r\n            height: maxHeight\r\n        };\r\n        this._dyingAction = dyingAction;\r\n        this._winningAction = winningAction;\r\n    }\r\n    update(time, colliding) {\r\n        const oldPosition = this.getPosition(time);\r\n        const oldVelocity = this.getVelocity();\r\n        let onABrick = undefined !== colliding.find(obj => obj.side === gameObject_1.Direction.BOTTOM && oldVelocity.y > 0);\r\n        if (this._isFloating && onABrick)\r\n            this.bottomBoundsHitHandling();\r\n        else if (oldPosition.y < this._worldBounds.height - this.height)\r\n            this._isFloating = true;\r\n        super.update(time);\r\n        if (colliding.some(object => object.collider.deadly))\r\n            this._dyingAction();\r\n        else if (colliding.some(object => object.collider instanceof goal_1.Goal))\r\n            this._winningAction();\r\n        else {\r\n            this.collidingsHandling(time, colliding, oldPosition, oldVelocity);\r\n            this.boundsAdjustPosition(time);\r\n            this.manageInputRequests(time);\r\n        }\r\n    }\r\n    changeState(newState) {\r\n        if (newState != this._playerState) {\r\n            this._playerState = newState;\r\n            this._actualResource.reset();\r\n            this._actualResource = this._playerStatesResources.getRelatedAnimation(newState);\r\n            this.changeRepresentation(this._actualResource);\r\n        }\r\n    }\r\n    shotHandling() {\r\n    }\r\n    reset() {\r\n        super.reset();\r\n        this._playerState = PlayerStates.IDLING;\r\n        this._actualResource = this._playerStatesResources.idling;\r\n        this.changeRepresentation(this._actualResource);\r\n        this._playerActualMovement = {\r\n            left: false, right: false,\r\n            jump: false, shot: false\r\n        };\r\n        this._playerMovementRequest = {\r\n            left: false, right: false,\r\n            jump: false, shot: false\r\n        };\r\n    }\r\n    // BOUNDS COLLISION HANDLING\r\n    boundsAdjustPosition(time) {\r\n        let lastPosition = this.getPosition(time);\r\n        let leftBounce = (x) => {\r\n            this.setPosition(time, x, lastPosition.y);\r\n            this.setVelocity(time, 0, 0);\r\n        };\r\n        let rightBounce = (max) => {\r\n            this.setPosition(time, max - this.width, lastPosition.y);\r\n            this.setVelocity(time, 0, 0);\r\n        };\r\n        let topBounce = (y) => {\r\n            this.setPosition(time, lastPosition.x, y);\r\n            this.setVelocity(time, this._velocity.x, 0);\r\n        };\r\n        let bottomBounce = (max) => {\r\n            this.setPosition(time, lastPosition.x, max - this.height);\r\n            this.setVelocity(time, this._velocity.x, 0);\r\n            this.bottomBoundsHitHandling();\r\n        };\r\n        if (lastPosition.x < 0)\r\n            leftBounce(0);\r\n        else if (lastPosition.y < 0)\r\n            topBounce(0);\r\n        else if (lastPosition.x + this.width > this._worldBounds.width)\r\n            rightBounce(this._worldBounds.width);\r\n        else if (lastPosition.y + this.height > this._worldBounds.height)\r\n            bottomBounce(this._worldBounds.height);\r\n    }\r\n    bottomBoundsHitHandling() {\r\n        this._isFloating = false;\r\n        this._playerActualMovement.jump = false;\r\n        if (this.getVelocity().x !== 0)\r\n            this.changeState(PlayerStates.RUNNING);\r\n        else\r\n            this.changeState(PlayerStates.IDLING);\r\n    }\r\n    collidingsHandling(time, colliding, oldPosition, oldVelocity) {\r\n        const wishedPosition = this.getPosition(time);\r\n        for (let col of colliding) {\r\n            if (col.side === gameObject_1.Direction.RIGHT && oldVelocity.x > 0) {\r\n                this.setPosition(time, col.collider.getPosition(time).x - this.width, oldPosition.y);\r\n                this.setVelocity(time, 0, this._velocity.y);\r\n            }\r\n            else if (col.side === gameObject_1.Direction.LEFT && oldVelocity.x < 0) {\r\n                this.setPosition(time, col.collider.getPosition(time).x + col.collider.width, oldPosition.y);\r\n                this.setVelocity(time, 0, this._velocity.y);\r\n            }\r\n            else if (col.side === gameObject_1.Direction.TOP && oldVelocity.y < 0) {\r\n                this.setPosition(time, wishedPosition.x, col.collider.getPosition(time).y + col.collider.height);\r\n                this.setVelocity(time, this._velocity.x, 0);\r\n            }\r\n            else if (col.side === gameObject_1.Direction.BOTTOM && oldVelocity.y > 0) {\r\n                this.setPosition(time, wishedPosition.x, col.collider.getPosition(time).y - this.height);\r\n                this.setVelocity(time, this._velocity.x, 0);\r\n            }\r\n        }\r\n    }\r\n    get width() {\r\n        return this._image.width * 0.5;\r\n    }\r\n    get height() {\r\n        return this._image.height * 0.9;\r\n    }\r\n    // INPUT MANAGEMENT\r\n    manageInputRequests(time) {\r\n        if (this._playerMovementRequest.left && !this._playerMovementRequest.right) {\r\n            if (!this._playerActualMovement.left) {\r\n                if (!this._isFloating)\r\n                    this.changeState(PlayerStates.RUNNING);\r\n                this.setVelocity(time, -Player.RUNNING_HORIZONTAL_VELOCITY, this._velocity.y);\r\n                this._playerActualMovement.left = true;\r\n            }\r\n            this._playerMovementRequest.left = false;\r\n        }\r\n        if (this._playerMovementRequest.right) {\r\n            if (!this._playerActualMovement.right) {\r\n                if (!this._isFloating)\r\n                    this.changeState(PlayerStates.RUNNING);\r\n                this.setVelocity(time, Player.RUNNING_HORIZONTAL_VELOCITY, this._velocity.y);\r\n                this._playerActualMovement.right = true;\r\n            }\r\n            this._playerMovementRequest.right = false;\r\n        }\r\n        if (this._playerMovementRequest.jump) {\r\n            if (!this._playerActualMovement.jump) {\r\n                this.changeState(PlayerStates.JUMPING);\r\n                this.setVelocity(time, this._velocity.x, -Player.RUNNING_VERTICAL_VELOCITY);\r\n                this._playerActualMovement.jump = true;\r\n                this._isFloating = true;\r\n            }\r\n            this._playerMovementRequest.jump = false;\r\n        }\r\n        if (this._playerMovementRequest.shot) {\r\n            if (!this._playerActualMovement.shot) {\r\n                this._playerActualMovement.shot = true;\r\n                this.shotHandling();\r\n            }\r\n            this._playerMovementRequest.shot = false;\r\n        }\r\n        if (!this._playerActualMovement.jump && !this._playerActualMovement.shot &&\r\n            !this._playerActualMovement.left && !this._playerActualMovement.right) {\r\n            this.setVelocity(time, 0, this._velocity.y);\r\n            this.changeState(this._isFloating && this._playerActualMovement.jump ? PlayerStates.JUMPING : PlayerStates.IDLING);\r\n        }\r\n    }\r\n    inputAttach(documentReference) {\r\n        const references = [\r\n            { type: 'keydown', callback: this.keyDownHandling.bind(this) },\r\n            { type: 'keyup', callback: this.keyUpHandling.bind(this) }\r\n        ];\r\n        for (let i = 0; i < references.length; i++)\r\n            documentReference.addEventListener(references[i].type, references[i].callback);\r\n        return references;\r\n    }\r\n    keyDownHandling(event) {\r\n        switch (event.keyCode) {\r\n            case MovementKeys.RIGHT:\r\n                this._playerMovementRequest.right = true;\r\n                break;\r\n            case MovementKeys.LEFT:\r\n                this._playerMovementRequest.left = true;\r\n                break;\r\n            case MovementKeys.JUMP:\r\n                this._playerMovementRequest.jump = true;\r\n                break;\r\n            case MovementKeys.SHOT:\r\n                this._playerMovementRequest.shot = true;\r\n                break;\r\n        }\r\n    }\r\n    keyUpHandling(event) {\r\n        switch (event.keyCode) {\r\n            case MovementKeys.LEFT:\r\n                this._playerActualMovement.left = this._playerMovementRequest.left = false;\r\n                break;\r\n            case MovementKeys.RIGHT:\r\n                this._playerActualMovement.right = this._playerMovementRequest.right = false;\r\n                break;\r\n            case MovementKeys.SHOT:\r\n                this._playerActualMovement.shot = false;\r\n                break;\r\n        }\r\n    }\r\n}\r\nexports.Player = Player;\r\nPlayer.RUNNING_HORIZONTAL_VELOCITY = 0.5;\r\nPlayer.RUNNING_VERTICAL_VELOCITY = 3.5;\r\nPlayer.SCALE = 0.3;\r\n\n\n//# sourceURL=webpack:///./src/js/game/player.ts?");

/***/ }),

/***/ "./src/js/game/scene/scene.ts":
/*!************************************!*\
  !*** ./src/js/game/scene/scene.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst gameObject_1 = __webpack_require__(/*! ./../../physics/gameObject */ \"./src/js/physics/gameObject.ts\");\r\nconst control_1 = __webpack_require__(/*! ../../graphics/controls/control */ \"./src/js/graphics/controls/control.ts\");\r\nconst world_1 = __webpack_require__(/*! ../world */ \"./src/js/game/world.ts\");\r\nconst obstacle_1 = __webpack_require__(/*! ../obstacles/obstacle */ \"./src/js/game/obstacles/obstacle.ts\");\r\nconst player_1 = __webpack_require__(/*! ../player */ \"./src/js/game/player.ts\");\r\nconst shot_1 = __webpack_require__(/*! ../shot */ \"./src/js/game/shot.ts\");\r\nclass Scene {\r\n    constructor(document, canvas, background, entities) {\r\n        this._objects = [];\r\n        this._controls = [];\r\n        this._player = null;\r\n        this._obstacles = [];\r\n        this._shots = [];\r\n        this._lastUpdate = 0;\r\n        this._fistUpdate = null;\r\n        this._canvas = canvas;\r\n        this._background = background;\r\n        this._document = document;\r\n        this._eventsListeners = [];\r\n        for (let i = 0; i < entities.length; i++)\r\n            this.mapObject(entities[i]);\r\n    }\r\n    mapObject(object) {\r\n        if (object instanceof control_1.Control)\r\n            this._controls.push(object);\r\n        else if (object instanceof gameObject_1.GameObject)\r\n            this._objects.push(object);\r\n        if (object instanceof shot_1.Shot)\r\n            this._shots.push(object);\r\n        else if (object instanceof player_1.Player)\r\n            this._player = object;\r\n        else if (object instanceof obstacle_1.Obstacle)\r\n            this._obstacles.push(object);\r\n    }\r\n    play(newTime) {\r\n        if (this._fistUpdate === null) {\r\n            this._fistUpdate = newTime;\r\n            this._lastUpdate = 0;\r\n        }\r\n        newTime = newTime - this._fistUpdate;\r\n        if (newTime - this._lastUpdate > (1000 / world_1.World.FPS)) {\r\n            //Game objects position updating\r\n            for (let i = 0; i < this._objects.length; i++)\r\n                if (!(this._objects[i] instanceof player_1.Player))\r\n                    this._objects[i].update(newTime);\r\n            //Player updating\r\n            if (this._player)\r\n                this._player.update(newTime, this.getCollisions(newTime, this._player));\r\n            //Drawing the objects\r\n            this._canvas.clear(this._background);\r\n            this._canvas.context.save();\r\n            for (let i = 0; i < this._objects.length; i++)\r\n                this._objects[i].drawObject(newTime, this._canvas.context);\r\n            for (let i = 0; i < this._controls.length; i++)\r\n                this._controls[i].drawControl(this._canvas.context);\r\n            this._canvas.context.restore();\r\n            this._lastUpdate = newTime;\r\n        }\r\n    }\r\n    initialize() {\r\n        this._fistUpdate = null;\r\n        for (let i = 0; i < this._objects.length; i++)\r\n            this._eventsListeners = this._eventsListeners.concat(this._objects[i].inputAttach(this._document));\r\n        for (let i = 0; i < this._controls.length; i++)\r\n            this._eventsListeners = this._eventsListeners.concat(this._controls[i].inputAttach(this._document));\r\n        for (let o of this._objects)\r\n            o.reset();\r\n    }\r\n    finalize() {\r\n        for (let i = 0; i < this._eventsListeners.length; i++)\r\n            this._document.removeEventListener(this._eventsListeners[i].type, this._eventsListeners[i].callback);\r\n    }\r\n    getCollisions(time, object) {\r\n        const colliding = [];\r\n        if (object) {\r\n            for (let obj of this._objects)\r\n                if (object !== obj) {\r\n                    let direction = object.isColliding(time, obj);\r\n                    if (direction !== null)\r\n                        colliding.push({\r\n                            collider: obj,\r\n                            side: direction\r\n                        });\r\n                }\r\n        }\r\n        return colliding;\r\n    }\r\n}\r\nexports.Scene = Scene;\r\n\n\n//# sourceURL=webpack:///./src/js/game/scene/scene.ts?");

/***/ }),

/***/ "./src/js/game/scene/sceneManager.ts":
/*!*******************************************!*\
  !*** ./src/js/game/scene/sceneManager.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass SceneManager {\r\n    constructor(scenes) {\r\n        this._scenes = scenes || [];\r\n        this._actualScene = -1;\r\n        this._lastUpdate = 0;\r\n        this._started = false;\r\n    }\r\n    setScene(name) {\r\n        let index;\r\n        let found = (index = this.lookForScene(name)) !== -1;\r\n        if (found) {\r\n            if (this._actualScene !== -1)\r\n                this._scenes[this._actualScene].scene.finalize();\r\n            this._actualScene = index;\r\n            this._scenes[this._actualScene].scene.initialize();\r\n        }\r\n        return found;\r\n    }\r\n    addScene(scene) {\r\n        this._scenes.push(scene);\r\n        return this;\r\n    }\r\n    start() {\r\n        this._started = true;\r\n        requestAnimationFrame(this.tick.bind(this));\r\n    }\r\n    stop() {\r\n        this._started = false;\r\n    }\r\n    tick(clock) {\r\n        if (this._started) {\r\n            if (this._actualScene !== -1)\r\n                this._scenes[this._actualScene].scene.play(clock);\r\n            requestAnimationFrame(this.tick.bind(this));\r\n        }\r\n    }\r\n    lookForScene(name) {\r\n        let index = -1;\r\n        for (let i = 0; i < this._scenes.length && index === -1; i++)\r\n            if (this._scenes[i].name === name)\r\n                index = i;\r\n        return index;\r\n    }\r\n}\r\nexports.SceneManager = SceneManager;\r\n\n\n//# sourceURL=webpack:///./src/js/game/scene/sceneManager.ts?");

/***/ }),

/***/ "./src/js/game/shot.ts":
/*!*****************************!*\
  !*** ./src/js/game/shot.ts ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vec2_1 = __webpack_require__(/*! ./../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nconst gameObject_1 = __webpack_require__(/*! ./../physics/gameObject */ \"./src/js/physics/gameObject.ts\");\r\nconst staticSprite_1 = __webpack_require__(/*! ../graphics/representations/staticSprite */ \"./src/js/graphics/representations/staticSprite.ts\");\r\nclass Shot extends gameObject_1.GameObject {\r\n    constructor(initPosition, resourceManager, firstUpdate) {\r\n        super(initPosition, new vec2_1.Vec2(1, 0), resourceManager, firstUpdate);\r\n        this._image = new staticSprite_1.StaticSprite(resourceManager.getResource('shot'));\r\n    }\r\n}\r\nexports.Shot = Shot;\r\n\n\n//# sourceURL=webpack:///./src/js/game/shot.ts?");

/***/ }),

/***/ "./src/js/game/world.ts":
/*!******************************!*\
  !*** ./src/js/game/world.ts ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vec2_1 = __webpack_require__(/*! ../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nclass World {\r\n    static worldToView(worldPointX, worldPointY) {\r\n        const deltaX = World.VIEW_WIDTH / World.WORLD_WIDTH;\r\n        const deltaY = World.VIEW_HEIGHT / World.WORLD_HEIGHT;\r\n        return new vec2_1.Vec2(worldPointX * deltaX, worldPointY * deltaY);\r\n    }\r\n    static worldToViewX(x) {\r\n        return x * World.VIEW_WIDTH / World.WORLD_WIDTH;\r\n    }\r\n    static worldToViewY(y) {\r\n        return y * World.VIEW_HEIGHT / World.WORLD_HEIGHT;\r\n    }\r\n    static viewToWorld(viewPointX, viewPointY) {\r\n        const deltaX = World.WORLD_WIDTH / World.VIEW_WIDTH;\r\n        const deltaY = World.WORLD_HEIGHT / World.VIEW_HEIGHT;\r\n        return new vec2_1.Vec2(viewPointX * deltaX, viewPointY * deltaY);\r\n    }\r\n    static viewToWorldX(x) {\r\n        return x * World.WORLD_WIDTH / World.VIEW_WIDTH;\r\n    }\r\n    static viewToWorldY(y) {\r\n        return y * World.VIEW_HEIGHT / World.WORLD_HEIGHT;\r\n    }\r\n    static verticalCenter(target) {\r\n        return (World.VIEW_HEIGHT - target.height) * 0.5;\r\n    }\r\n    static horizontalCenter(target) {\r\n        return (World.VIEW_WIDTH - target.width) * 0.5;\r\n    }\r\n    static alignRight(target) {\r\n        return World.VIEW_WIDTH - target.width;\r\n    }\r\n    static alignBottom(target) {\r\n        return World.VIEW_HEIGHT - target.height;\r\n    }\r\n}\r\nexports.World = World;\r\nWorld.FPS = 100;\r\nWorld.WORLD_WIDTH = 80;\r\nWorld.WORLD_HEIGHT = 45;\r\nWorld.VIEW_WIDTH = 0;\r\nWorld.VIEW_HEIGHT = 0;\r\n\n\n//# sourceURL=webpack:///./src/js/game/world.ts?");

/***/ }),

/***/ "./src/js/graphics/canvas.ts":
/*!***********************************!*\
  !*** ./src/js/graphics/canvas.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst world_1 = __webpack_require__(/*! ./../game/world */ \"./src/js/game/world.ts\");\r\nclass Canvas {\r\n    constructor(id) {\r\n        this._canvas = document.getElementById(id);\r\n        this._context = this.canvas.getContext('2d');\r\n        window.addEventListener('resize', () => this.resizeCanvas());\r\n        this.resizeCanvas();\r\n    }\r\n    get canvas() {\r\n        return this._canvas;\r\n    }\r\n    clear(color) {\r\n        this._context.save();\r\n        if (!(color instanceof HTMLImageElement)) {\r\n            this._context.fillStyle = color;\r\n            this._context.fillRect(0, 0, this._canvas.width, this._canvas.height);\r\n        }\r\n        else\r\n            this._context.drawImage(color, 0, 0, this._canvas.width, this._canvas.height);\r\n        this._context.restore();\r\n    }\r\n    get context() {\r\n        return this._context;\r\n    }\r\n    resizeCanvas() {\r\n        this._canvas.height = world_1.World.VIEW_HEIGHT = innerHeight;\r\n        this._canvas.width = world_1.World.VIEW_WIDTH = innerWidth;\r\n    }\r\n    get height() {\r\n        return this._canvas.height;\r\n    }\r\n    get width() {\r\n        return this._canvas.width;\r\n    }\r\n}\r\nexports.Canvas = Canvas;\r\nCanvas.NCOL = 20;\r\n;\r\n\n\n//# sourceURL=webpack:///./src/js/graphics/canvas.ts?");

/***/ }),

/***/ "./src/js/graphics/controls/button.ts":
/*!********************************************!*\
  !*** ./src/js/graphics/controls/button.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst control_1 = __webpack_require__(/*! ./control */ \"./src/js/graphics/controls/control.ts\");\r\nvar ButtonState;\r\n(function (ButtonState) {\r\n    ButtonState[ButtonState[\"normal\"] = 0] = \"normal\";\r\n    ButtonState[ButtonState[\"pressed\"] = 1] = \"pressed\";\r\n})(ButtonState || (ButtonState = {}));\r\nclass TwoWayButton extends control_1.DrawableControl {\r\n    constructor(position, representation, action) {\r\n        super(position, representation.normal);\r\n        this._buttonResource = representation;\r\n        this._action = action;\r\n        this._state = ButtonState.normal;\r\n    }\r\n    buttonDownHandling(event) {\r\n        if (this.isIn(event.clientX, event.clientY) && this._state === ButtonState.normal) {\r\n            this.changeRepresentation(this._buttonResource.pressed);\r\n            this._state = ButtonState.pressed;\r\n        }\r\n    }\r\n    buttonUpHandling(event) {\r\n        if (this._state === ButtonState.pressed) {\r\n            this.changeRepresentation(this._buttonResource.normal);\r\n            this._state = ButtonState.normal;\r\n            if (this.isIn(event.clientX, event.clientY))\r\n                this._action();\r\n        }\r\n    }\r\n    inputAttach(documentReference) {\r\n        const references = [\r\n            { type: 'mousedown', callback: this.buttonDownHandling.bind(this) },\r\n            { type: 'mouseup', callback: this.buttonUpHandling.bind(this) }\r\n        ];\r\n        for (let i = 0; i < references.length; i++)\r\n            documentReference.addEventListener(references[i].type, references[i].callback);\r\n        return references;\r\n    }\r\n}\r\nexports.TwoWayButton = TwoWayButton;\r\nclass OneWayButton extends TwoWayButton {\r\n    constructor(position, representation, action) {\r\n        super(position, {\r\n            normal: representation,\r\n            pressed: representation\r\n        }, action);\r\n    }\r\n    buttonDownHandling(event) {\r\n        if (this.isIn(event.clientX, event.clientY) && this._state === ButtonState.normal)\r\n            this._state = ButtonState.pressed;\r\n    }\r\n    buttonUpHandling(event) {\r\n        if (this._state === ButtonState.pressed) {\r\n            this._state = ButtonState.normal;\r\n            if (this.isIn(event.clientX, event.clientY))\r\n                this._action();\r\n        }\r\n    }\r\n}\r\nexports.OneWayButton = OneWayButton;\r\nclass TextButton extends OneWayButton {\r\n    constructor(position, background, text, action) {\r\n        super(position, background, action);\r\n        this._text = text;\r\n        this._font = 'ethnocentricregular';\r\n        this._fontSize = 0;\r\n    }\r\n    drawControl(context) {\r\n        context.save();\r\n        this.balanceTextSize(context);\r\n        console.log(`fontsize: ${this._fontSize}`);\r\n        this._image.draw(context, this._position.x, this._position.y, false);\r\n        this.adjustEveryThing(context);\r\n        context.fillText(this._text, this._position.x + this.width * 0.5, this._position.y + this.height * 0.5);\r\n        context.restore();\r\n    }\r\n    balanceTextSize(context) {\r\n        let textSize = 0;\r\n        context.font = `${textSize}pt ${this._font}`;\r\n        let measuredWidth = context.measureText(this._text).width;\r\n        while (measuredWidth < this._width) {\r\n            textSize += 1;\r\n            context.font = `${textSize}pt ${this._font}`;\r\n            measuredWidth = context.measureText(this._text).width;\r\n        }\r\n        this._fontSize = textSize - 10;\r\n        context.font = `${this._fontSize}pt ${this._font}`;\r\n    }\r\n    adjustEveryThing(context) {\r\n        context.fillStyle = \"white\";\r\n        context.textAlign = \"center\";\r\n        context.textBaseline = \"middle\";\r\n        context.font = `${this._fontSize}pt ${this._font}`;\r\n    }\r\n}\r\nexports.TextButton = TextButton;\r\n\n\n//# sourceURL=webpack:///./src/js/graphics/controls/button.ts?");

/***/ }),

/***/ "./src/js/graphics/controls/control.ts":
/*!*********************************************!*\
  !*** ./src/js/graphics/controls/control.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Control {\r\n    constructor(position, width, height) {\r\n        this._position = position;\r\n        this._width = width;\r\n        this._height = height;\r\n        this._inputHandlers = [];\r\n    }\r\n    drawControl(context) {\r\n        throw new Error(`Method not implemented yet`);\r\n    }\r\n    get width() {\r\n        return this._width;\r\n    }\r\n    get height() {\r\n        return this._height;\r\n    }\r\n    resize(width, height) {\r\n        this._width = width;\r\n        this._height = height;\r\n    }\r\n    isIn(x, y) {\r\n        return this._position.x < x &&\r\n            x < this._position.x + this._width &&\r\n            this._position.y < y &&\r\n            y < this._position.y + this._height;\r\n    }\r\n    inputAttach(documentReference) {\r\n        return [];\r\n    }\r\n    set position(position) {\r\n        this._position.x = position.x;\r\n        this._position.y = position.y;\r\n    }\r\n}\r\nexports.Control = Control;\r\nclass DrawableControl extends Control {\r\n    constructor(position, representation) {\r\n        super(position, representation.width, representation.height);\r\n        this._image = representation;\r\n    }\r\n    drawControl(context) {\r\n        //const ratio = this._image.width > this._image.height ? this.width / this._image.width : this.height / this._image.height;\r\n        context.save();\r\n        context.translate(this._position.x, this._position.y);\r\n        //context.fillRect(0, 0, this._width, this._height)\r\n        context.scale(this.width / this._image.width, this.height / this._image.height);\r\n        this._image.draw(context, 0, 0, false);\r\n        context.restore();\r\n    }\r\n    changeRepresentation(newRepresentation) {\r\n        this._image = newRepresentation;\r\n    }\r\n}\r\nexports.DrawableControl = DrawableControl;\r\n\n\n//# sourceURL=webpack:///./src/js/graphics/controls/control.ts?");

/***/ }),

/***/ "./src/js/graphics/controls/menu.ts":
/*!******************************************!*\
  !*** ./src/js/graphics/controls/menu.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst staticSprite_1 = __webpack_require__(/*! ./../representations/staticSprite */ \"./src/js/graphics/representations/staticSprite.ts\");\r\nconst button_1 = __webpack_require__(/*! ./button */ \"./src/js/graphics/controls/button.ts\");\r\nconst control_1 = __webpack_require__(/*! ./control */ \"./src/js/graphics/controls/control.ts\");\r\nconst vec2_1 = __webpack_require__(/*! ../../physics/vec2 */ \"./src/js/physics/vec2.ts\");\r\nconst world_1 = __webpack_require__(/*! ../../game/world */ \"./src/js/game/world.ts\");\r\nclass MenuControl extends control_1.Control {\r\n    constructor(position, width, height, resourceManager, controls) {\r\n        super(position, width, height);\r\n        this._closed = false;\r\n        this._background = new staticSprite_1.StaticSprite(resourceManager.getResource('menu_background'));\r\n        this._controls = [].concat(controls);\r\n        for (let index in this._controls) {\r\n            this._controls[index].position = new vec2_1.Vec2(this._position.x + (this.width - MenuControl.CELL_WIDTH) * 0.5, this._position.y + 150 + Number(index) * MenuControl.CELL_HEIGHT);\r\n            this._controls[index].resize(MenuControl.CELL_WIDTH, MenuControl.CELL_HEIGHT);\r\n        }\r\n        this._closedPosition = new vec2_1.Vec2(world_1.World.VIEW_WIDTH - 120, world_1.World.VIEW_HEIGHT - 120);\r\n        this._normalPosition = new vec2_1.Vec2(position.x, position.y);\r\n        this._closingButton = new button_1.OneWayButton(new vec2_1.Vec2(this._position.x + (this.width - MenuControl.CELL_WIDTH) * 0.5, this._position.y + 25), new staticSprite_1.StaticSprite(resourceManager.getResource('replay_button_1'), 0.4), () => this._closed ? this.open() : this.close());\r\n        this._controls.push(this._closingButton);\r\n    }\r\n    drawControl(context) {\r\n        context.save();\r\n        this._background.draw(context, this._position.x, this._position.y, false);\r\n        //context.fillRect(this._position.x, this._position.y, this.width, this.height)\r\n        for (let index in this._controls)\r\n            this._controls[index].drawControl(context);\r\n        context.restore();\r\n    }\r\n    inputAttach(documentReference) {\r\n        const collect = [];\r\n        for (let control of this._controls)\r\n            collect.concat(control.inputAttach(documentReference));\r\n        return collect;\r\n    }\r\n    set position(position) {\r\n        this._position.x = position.x;\r\n        this._position.y = position.y;\r\n        for (let index in this._controls)\r\n            if (this._controls[index] !== this._closingButton)\r\n                this._controls[index].position = new vec2_1.Vec2(this._position.x + (this.width - MenuControl.CELL_WIDTH) * 0.5, this._position.y + 150 + Number(index) * MenuControl.CELL_HEIGHT);\r\n        this._closingButton.position = new vec2_1.Vec2(this._position.x + (this.width - 100) * 0.5, this._position.y + 25);\r\n    }\r\n    close() {\r\n        this._closed = true;\r\n        this.position = this._closedPosition;\r\n    }\r\n    open() {\r\n        this._closed = false;\r\n        this.position = this._normalPosition;\r\n    }\r\n}\r\nexports.MenuControl = MenuControl;\r\nMenuControl.CELL_WIDTH = 50;\r\nMenuControl.CELL_HEIGHT = 50;\r\n\n\n//# sourceURL=webpack:///./src/js/graphics/controls/menu.ts?");

/***/ }),

/***/ "./src/js/graphics/controls/textBox.ts":
/*!*********************************************!*\
  !*** ./src/js/graphics/controls/textBox.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst control_1 = __webpack_require__(/*! ./control */ \"./src/js/graphics/controls/control.ts\");\r\nclass TextControl extends control_1.Control {\r\n    constructor(position, width, height, text, background) {\r\n        super(position, width, height);\r\n        this._fontSize = 0;\r\n        this._font = 'ethnocentricregular';\r\n        this._text = text;\r\n        this._fontColor = 'white';\r\n        this._align = 'center';\r\n        this._background = background || null;\r\n    }\r\n    drawControl(context) {\r\n        context.save();\r\n        this.balanceTextSize(context);\r\n        if (this._background !== null) {\r\n            if (this._background instanceof HTMLImageElement)\r\n                context.drawImage(this._background, this._position.x, this._position.y, this.width, this.height);\r\n            else {\r\n                context.fillStyle = this._background;\r\n                context.fillRect(this._position.x, this._position.y, this.width, this.height);\r\n            }\r\n        }\r\n        this.adjustEveryThing(context);\r\n        context.fillText(this._text, this._position.x + this.width * 0.5, this._position.y + this.height * 0.5);\r\n        context.restore();\r\n    }\r\n    changeText(text) {\r\n        this._text = text;\r\n    }\r\n    get align() {\r\n        return this._align;\r\n    }\r\n    get color() {\r\n        return this._fontColor;\r\n    }\r\n    set align(alignment) {\r\n        this._align = alignment;\r\n    }\r\n    set color(color) {\r\n        this._fontColor = color;\r\n    }\r\n    balanceTextSize(context) {\r\n        let textSize = 0;\r\n        context.font = `${textSize}pt ${this._font}`;\r\n        let measuredWidth = context.measureText(this._text).width;\r\n        while (measuredWidth < this._width) {\r\n            textSize += 1;\r\n            context.font = `${textSize}pt ${this._font}`;\r\n            measuredWidth = context.measureText(this._text).width;\r\n        }\r\n        this._fontSize = textSize - 10;\r\n        context.font = `${this._fontSize}pt ${this._font}`;\r\n    }\r\n    adjustEveryThing(context) {\r\n        context.fillStyle = this._fontColor;\r\n        context.textAlign = this._align;\r\n        context.textBaseline = \"middle\";\r\n        context.font = `${this._fontSize}pt ${this._font}`;\r\n    }\r\n}\r\nexports.TextControl = TextControl;\r\n\n\n//# sourceURL=webpack:///./src/js/graphics/controls/textBox.ts?");

/***/ }),

/***/ "./src/js/graphics/representations/animation.ts":
/*!******************************************************!*\
  !*** ./src/js/graphics/representations/animation.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Animation {\r\n    constructor(resource, framesNumber, scaleFactor, speedFactor) {\r\n        this._spritesheet = resource;\r\n        this._height = resource.content.height;\r\n        this._width = resource.content.width / framesNumber;\r\n        this._framesNumber = framesNumber;\r\n        this._tickCounter = 0;\r\n        this._scaleFactor = scaleFactor || 0.4;\r\n        this._speedFactor = speedFactor ? this.normSpeedFactor(speedFactor) : this._scaleFactor;\r\n    }\r\n    draw(context, x, y, inversion) {\r\n        this._tickCounter = (this._tickCounter + this._speedFactor) % this._framesNumber;\r\n        context.save();\r\n        context.translate(x + 0.5 * this.width, y + 0.5 * this.height);\r\n        if (inversion)\r\n            context.scale(-1, 1);\r\n        context.drawImage(this._spritesheet.content, Math.trunc(this._tickCounter) * this._width, 0, this._width, this._height, -this.width / 2, -this.height / 2, this.width, this.height);\r\n        context.restore();\r\n    }\r\n    get width() {\r\n        return this._width * this._scaleFactor;\r\n    }\r\n    get height() {\r\n        return this._height * this._scaleFactor;\r\n    }\r\n    set speed(newVelocity) {\r\n        this._speedFactor = this.normSpeedFactor(newVelocity);\r\n    }\r\n    normSpeedFactor(factor) {\r\n        return Math.abs(factor % 1);\r\n    }\r\n    reset() {\r\n        this._tickCounter = 0;\r\n    }\r\n}\r\nexports.Animation = Animation;\r\n\n\n//# sourceURL=webpack:///./src/js/graphics/representations/animation.ts?");

/***/ }),

/***/ "./src/js/graphics/representations/oneShotAnimation.ts":
/*!*************************************************************!*\
  !*** ./src/js/graphics/representations/oneShotAnimation.ts ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst animation_1 = __webpack_require__(/*! ./animation */ \"./src/js/graphics/representations/animation.ts\");\r\nclass OneShotAnimation extends animation_1.Animation {\r\n    constructor(resource, framesNumber, scaleFactor, speedFactor) {\r\n        super(resource, framesNumber, scaleFactor, speedFactor);\r\n    }\r\n    draw(context, x, y, inversion) {\r\n        if (this._tickCounter < this._framesNumber - 1)\r\n            this._tickCounter = this._tickCounter + this._speedFactor;\r\n        context.save();\r\n        context.translate(x + 0.5 * this.width, y + 0.5 * this.height);\r\n        if (inversion)\r\n            context.scale(-1, 1);\r\n        context.drawImage(this._spritesheet.content, Math.trunc(this._tickCounter) * this._width, 0, this._width, this._height, -this.width / 2, -this.height / 2, this.width, this.height);\r\n        context.restore();\r\n    }\r\n}\r\nexports.OneShotAnimation = OneShotAnimation;\r\n\n\n//# sourceURL=webpack:///./src/js/graphics/representations/oneShotAnimation.ts?");

/***/ }),

/***/ "./src/js/graphics/representations/staticSprite.ts":
/*!*********************************************************!*\
  !*** ./src/js/graphics/representations/staticSprite.ts ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass StaticSprite {\r\n    constructor(resource, scaleFactor) {\r\n        this._spritesheet = resource;\r\n        this._height = resource.content.height;\r\n        this._width = resource.content.width;\r\n        this._scaleFactor = scaleFactor || 0.8;\r\n    }\r\n    draw(context, x, y, _) {\r\n        context.save();\r\n        context.drawImage(this._spritesheet.content, 0, 0, this._width, this._height, x, y, this.width, this.height);\r\n        context.restore();\r\n    }\r\n    get width() {\r\n        return this._width * this._scaleFactor;\r\n    }\r\n    get height() {\r\n        return this._height * this._scaleFactor;\r\n    }\r\n    get spritesheet() {\r\n        return this._spritesheet.content;\r\n    }\r\n}\r\nexports.StaticSprite = StaticSprite;\r\n\n\n//# sourceURL=webpack:///./src/js/graphics/representations/staticSprite.ts?");

/***/ }),

/***/ "./src/js/graphics/resourceLoader.ts":
/*!*******************************************!*\
  !*** ./src/js/graphics/resourceLoader.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n;\r\nclass ResourceManager {\r\n    constructor(resourceNameList) {\r\n        this._resourceNameList = resourceNameList || [];\r\n    }\r\n    getResource(id) {\r\n        for (let i = 0; i < this._resourceList.length; i++)\r\n            if (this._resourceList[i].id === id)\r\n                return this._resourceList[i];\r\n        return null;\r\n    }\r\n    getDrawable(id) {\r\n        for (let i = 0; i < this._resourceList.length; i++)\r\n            if (this._resourceList[i].id === id)\r\n                return this._resourceList[i].content;\r\n        return null;\r\n    }\r\n    resourcesPrefetch() {\r\n        const resources = this._resourceNameList;\r\n        return new Promise((resolve, reject) => {\r\n            const resourcePromises = [];\r\n            for (let i = 0; i < resources.length; i++)\r\n                resourcePromises.push(this.resourceFetch(resources[i]));\r\n            Promise.all(resourcePromises).then(resources => {\r\n                this._resourceList = resources;\r\n                resolve();\r\n            }).catch((e) => reject());\r\n        });\r\n    }\r\n    resourceFetch(resource) {\r\n        const path = `assets/imgs/${resource}.png`;\r\n        return new Promise((resolve, reject) => {\r\n            const img = new Image();\r\n            img.addEventListener('load', (e) => {\r\n                console.debug(`Resource ${resource} loaded from ${path}`);\r\n                const pathPool = resource.split('/');\r\n                resolve({ id: pathPool[pathPool.length - 1], content: img });\r\n            });\r\n            img.addEventListener('error', (error) => {\r\n                console.log(`Error loading resource ${resource} from ${path}`);\r\n                reject(error);\r\n            });\r\n            img.src = path;\r\n        });\r\n    }\r\n}\r\nexports.ResourceManager = ResourceManager;\r\n\n\n//# sourceURL=webpack:///./src/js/graphics/resourceLoader.ts?");

/***/ }),

/***/ "./src/js/main.ts":
/*!************************!*\
  !*** ./src/js/main.ts ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst editorScene_1 = __webpack_require__(/*! ./game/gui/editorScene */ \"./src/js/game/gui/editorScene.ts\");\r\nconst levelManager_1 = __webpack_require__(/*! ./game/level/levelManager */ \"./src/js/game/level/levelManager.ts\");\r\nconst winScene_1 = __webpack_require__(/*! ./game/gui/winScene */ \"./src/js/game/gui/winScene.ts\");\r\nconst gameOverScene_1 = __webpack_require__(/*! ./game/gui/gameOverScene */ \"./src/js/game/gui/gameOverScene.ts\");\r\nconst playScene_1 = __webpack_require__(/*! ./game/gui/playScene */ \"./src/js/game/gui/playScene.ts\");\r\nconst sceneManager_1 = __webpack_require__(/*! ./game/scene/sceneManager */ \"./src/js/game/scene/sceneManager.ts\");\r\nconst resourceLoader_1 = __webpack_require__(/*! ./graphics/resourceLoader */ \"./src/js/graphics/resourceLoader.ts\");\r\nconst canvas_1 = __webpack_require__(/*! ./graphics/canvas */ \"./src/js/graphics/canvas.ts\");\r\nconst startScene_1 = __webpack_require__(/*! ./game/gui/startScene */ \"./src/js/game/gui/startScene.ts\");\r\n//Resource Targeting\r\nconst resourceManager = new resourceLoader_1.ResourceManager([\r\n    'player/idle', 'player/run', 'player/jump', 'player/dead', 'shot',\r\n    'main_background', 'gui/menu_background',\r\n    'red_barrel', 'goal',\r\n    'gui/play_button_1', 'gui/play_button_2',\r\n    'gui/menu_button_1', 'gui/menu_button_2',\r\n    'gui/replay_button_1', 'gui/replay_button_2',\r\n    'gui/time_background', 'block', 'long_block', 'box',\r\n    'obstacles/bomb', 'obstacles/mine', 'obstacles/missile',\r\n    'obstacles/bomb_static', 'obstacles/missile_static', 'player/player_static'\r\n]);\r\n//Resource Prefetching\r\nresourceManager.resourcesPrefetch().then(() => {\r\n    console.log('Resource loaded');\r\n    const canvas = new canvas_1.Canvas('scene');\r\n    const sceneManager = new sceneManager_1.SceneManager();\r\n    const levelManager = new levelManager_1.LevelsManager();\r\n    sceneManager.addScene({\r\n        name: 'start', scene: new startScene_1.StartScene(document, canvas, resourceManager, sceneManager)\r\n    }).addScene({\r\n        name: 'play', scene: new playScene_1.PlayScene(document, canvas, resourceManager, sceneManager, levelManager)\r\n    }).addScene({\r\n        name: 'gameover', scene: new gameOverScene_1.GameOverScene(document, canvas, resourceManager, sceneManager)\r\n    }).addScene({\r\n        name: 'win', scene: new winScene_1.WinScene(document, canvas, resourceManager, sceneManager)\r\n    }).addScene({\r\n        name: 'editor', scene: new editorScene_1.EditorScene(document, canvas, resourceManager, sceneManager)\r\n    });\r\n    sceneManager.setScene('start');\r\n    sceneManager.start();\r\n}).catch((e) => alert(`Error during resources prefetching: ${e.stack}`));\r\n\n\n//# sourceURL=webpack:///./src/js/main.ts?");

/***/ }),

/***/ "./src/js/physics/fallingObject.ts":
/*!*****************************************!*\
  !*** ./src/js/physics/fallingObject.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst gameObject_1 = __webpack_require__(/*! ./gameObject */ \"./src/js/physics/gameObject.ts\");\r\nclass FallingObject extends gameObject_1.GameObject {\r\n    constructor(initosition, initVelocity, resourceManager, firstUpdate) {\r\n        super(initosition, initVelocity, resourceManager, firstUpdate);\r\n        this._isFloating = true;\r\n    }\r\n    update(time) {\r\n        this.updateVelocity(time);\r\n        super.update(time);\r\n    }\r\n    updateVelocity(time) {\r\n        if (this._isFloating) {\r\n            let dt = time - this._firstUpdate;\r\n            let vy = this._velocity.y + dt * FallingObject.GRAVITY_ACELERATION;\r\n            this.setVelocity(time, this._velocity.x, vy);\r\n        }\r\n    }\r\n}\r\nexports.FallingObject = FallingObject;\r\nFallingObject.GRAVITY_ACELERATION = 0.016; //9.8;\r\n\n\n//# sourceURL=webpack:///./src/js/physics/fallingObject.ts?");

/***/ }),

/***/ "./src/js/physics/gameObject.ts":
/*!**************************************!*\
  !*** ./src/js/physics/gameObject.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vec2_1 = __webpack_require__(/*! ./vec2 */ \"./src/js/physics/vec2.ts\");\r\n;\r\nvar Direction;\r\n(function (Direction) {\r\n    Direction[Direction[\"LEFT\"] = 0] = \"LEFT\";\r\n    Direction[Direction[\"RIGHT\"] = 1] = \"RIGHT\";\r\n    Direction[Direction[\"TOP\"] = 2] = \"TOP\";\r\n    Direction[Direction[\"BOTTOM\"] = 3] = \"BOTTOM\";\r\n})(Direction = exports.Direction || (exports.Direction = {}));\r\n;\r\nclass GameObject {\r\n    constructor(initPosition, initVelocity, resourceManager, firstUpdate, playerCollisionCallback) {\r\n        this._originalPosition = new vec2_1.Vec2(initPosition.x, initPosition.y);\r\n        this._initPosition = initPosition;\r\n        this._originalVelocity = new vec2_1.Vec2(initVelocity.x, initVelocity.y);\r\n        this._velocity = initVelocity;\r\n        this._image = null;\r\n        this._resourceManager = resourceManager;\r\n        this._firstUpdate = firstUpdate;\r\n        this._playerCollisionCallback = playerCollisionCallback || (() => { });\r\n        this._inputHandlers = [];\r\n    }\r\n    //Velocity Management\r\n    getVelocity() {\r\n        return this._velocity;\r\n    }\r\n    setVelocity(time, nx, ny) {\r\n        if (this._velocity.x !== nx || this._velocity.y !== ny) {\r\n            this._initPosition.x = this.getPosition(time).x;\r\n            this._initPosition.y = this.getPosition(time).y;\r\n            this._firstUpdate = time;\r\n            this._velocity.x = nx;\r\n            this._velocity.y = ny;\r\n        }\r\n    }\r\n    setPosition(time, nx, ny) {\r\n        this._firstUpdate = time;\r\n        this._initPosition.x = nx;\r\n        this._initPosition.y = ny;\r\n    }\r\n    //Game Logic Management\r\n    update(time) {\r\n        if (this._firstUpdate === null)\r\n            this._firstUpdate = time;\r\n    }\r\n    drawObject(time, context) {\r\n        let position = this.getPosition(time);\r\n        context.save();\r\n        if (this._image)\r\n            this._image.draw(context, position.x - Math.abs((this._image.width - this.width) * 0.5), position.y - Math.abs((this._image.height - this.height) * 0.5), this._velocity.x < 0);\r\n        context.restore();\r\n    }\r\n    getPosition(time) {\r\n        let dt = time - this._firstUpdate;\r\n        let px = this._initPosition.x + dt * this._velocity.x;\r\n        let py = this._initPosition.y + dt * this._velocity.y;\r\n        return new vec2_1.Vec2(px, py);\r\n    }\r\n    isIn(time, x, y) {\r\n        let position = this.getPosition(time);\r\n        return position.x < x &&\r\n            x < position.x + this._image.width &&\r\n            position.y < y &&\r\n            y < position.y + this._image.height;\r\n    }\r\n    inputAttach(documentReference) {\r\n        return [];\r\n    }\r\n    reset() {\r\n        this._firstUpdate = null;\r\n        this._initPosition.x = this._originalPosition.x;\r\n        this._initPosition.y = this._originalPosition.y;\r\n        this._velocity.x = this._originalVelocity.x;\r\n        this._velocity.y = this._originalVelocity.y;\r\n    }\r\n    //Representation Management\r\n    changeRepresentation(newRepresentation) {\r\n        this._image = newRepresentation;\r\n    }\r\n    get width() {\r\n        return this._image.width || 0;\r\n    }\r\n    get height() {\r\n        return this._image.height || 0;\r\n    }\r\n    //Collision Detection\r\n    isColliding(time, object) {\r\n        let thisPosition = this.getPosition(time);\r\n        let objectPosition = object.getPosition(time);\r\n        if (thisPosition.x < objectPosition.x + object.width &&\r\n            thisPosition.x + this.width > objectPosition.x &&\r\n            thisPosition.y < objectPosition.y + object.height &&\r\n            thisPosition.y + this.height > objectPosition.y) {\r\n            let h = (this.height + object.height) * 0.5;\r\n            let w = (this.width + object.width) * 0.5;\r\n            let tcx = thisPosition.x + this.width * 0.5;\r\n            let tcy = thisPosition.y + this.height * 0.5;\r\n            let ocx = objectPosition.x + object.width * 0.5;\r\n            let ocy = objectPosition.y + object.height * 0.5;\r\n            let dx = tcx - ocx;\r\n            let dy = tcy - ocy;\r\n            if (Math.abs(dx / w) > Math.abs(dy / h)) {\r\n                return dx < 0 ? Direction.RIGHT : Direction.LEFT;\r\n            }\r\n            else {\r\n                return dy > 0 ? Direction.TOP : Direction.BOTTOM;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\nexports.GameObject = GameObject;\r\n\n\n//# sourceURL=webpack:///./src/js/physics/gameObject.ts?");

/***/ }),

/***/ "./src/js/physics/vec2.ts":
/*!********************************!*\
  !*** ./src/js/physics/vec2.ts ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Axis;\r\n(function (Axis) {\r\n    Axis[Axis[\"Horizontal\"] = 0] = \"Horizontal\";\r\n    Axis[Axis[\"Vertical\"] = 1] = \"Vertical\";\r\n    Axis[Axis[\"Both\"] = 2] = \"Both\";\r\n})(Axis = exports.Axis || (exports.Axis = {}));\r\nclass Vec2 {\r\n    constructor(x, y) {\r\n        this._x = x || 0;\r\n        this._y = y || 0;\r\n    }\r\n    get x() {\r\n        return this._x;\r\n    }\r\n    get y() {\r\n        return this._y;\r\n    }\r\n    set x(x) {\r\n        this._x = x;\r\n    }\r\n    set y(y) {\r\n        this._y = y;\r\n    }\r\n    isEqual(v) {\r\n        return this._x === v.x && this._y === v.y;\r\n    }\r\n    static Zero() {\r\n        return new Vec2(0, 0);\r\n    }\r\n}\r\nexports.Vec2 = Vec2;\r\n;\r\n\n\n//# sourceURL=webpack:///./src/js/physics/vec2.ts?");

/***/ })

/******/ });